.image-upload{width:100%;max-width:500px;margin:0 auto}.upload-area{border:2.5px solid var(--border-color);border-radius:18px;padding:3rem 2rem;text-align:center;cursor:pointer;transition:all .3s ease;background:var(--bg-secondary);box-shadow:var(--shadow-lg);-webkit-backdrop-filter:blur(18px) saturate(180%);backdrop-filter:blur(18px) saturate(180%);position:relative;overflow:hidden}.upload-area:hover{border-color:var(--border-hover);background:var(--bg-hover);transform:translateY(-2px)}.upload-area.drag-over{border-color:#4caf50;background:#4caf501a;transform:scale(1.02)}.upload-area.loading{pointer-events:none}.upload-content{color:var(--text-primary);font-weight:500;transition:color .3s ease}.upload-icon{font-size:4rem;margin-bottom:1rem;opacity:.8}.upload-content h3{font-size:1.6rem;margin-bottom:.5rem;font-weight:600;color:var(--text-primary);transition:color .3s ease}.upload-content p{font-size:1rem;margin-bottom:.5rem;color:var(--text-secondary);transition:color .3s ease}.supported-formats{font-size:.95rem!important;margin-top:1rem!important;color:var(--accent-color);font-weight:500;opacity:.9!important}:root.dark .upload-content h3{color:var(--text-primary);opacity:.9}:root.dark .upload-content p{color:var(--text-secondary);opacity:.8}:root.dark .supported-formats{color:var(--accent-color);opacity:.7!important}.loading-indicator{display:flex;flex-direction:column;align-items:center;gap:1rem;color:#fff}.spinner{width:3rem;height:3rem;border:3px solid rgba(255,255,255,.3);border-top:3px solid white;border-radius:50%;animation:spin 1s linear infinite}@media (max-width: 640px){.upload-area{padding:2rem 1rem}.upload-icon{font-size:3rem}.upload-content h3{font-size:1.25rem}}.toolbar-sidebar{display:flex;flex-direction:column;gap:1rem;width:100%}.tool-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:.5rem}.control-section{display:flex;flex-direction:column;gap:.5rem}.control-label{color:#495057;font-size:.8rem;font-weight:500;margin:0}.tool-btn{width:100%;height:40px;border:1px solid #ced4da;border-radius:4px;background:linear-gradient(180deg,#fff,#f8f9fa);color:#495057;font-size:1.1rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;box-shadow:0 1px 2px #0000001a}.tool-btn:hover{background:linear-gradient(180deg,#f8f9fa,#e9ecef);border-color:#adb5bd;transform:translateY(-1px);box-shadow:0 2px 4px #00000026}.tool-btn.active{background:linear-gradient(180deg,#007bff,#0056b3);color:#fff;border-color:#0056b3;box-shadow:inset 0 1px 2px #0003;transform:none}.size-slider{width:100%;height:6px;background:#e9ecef;border-radius:3px;outline:none;cursor:pointer;border:1px solid #ced4da}.size-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;background:linear-gradient(180deg,#fff,#f8f9fa);border:1px solid #adb5bd;border-radius:50%;cursor:pointer;box-shadow:0 1px 3px #0003}.color-section{display:flex;flex-direction:column;gap:.5rem}.color-picker{width:100%;height:40px;border:1px solid #ced4da;border-radius:6px;cursor:pointer;background:none;box-shadow:0 1px 2px #0000001a}.color-presets{display:grid;grid-template-columns:repeat(5,1fr);gap:.25rem}.color-preset{width:100%;height:24px;border:2px solid transparent;border-radius:4px;cursor:pointer;transition:all .2s ease}.color-preset:hover{transform:scale(1.1);border-color:#6c757d}.color-preset.active{border-color:#007bff;box-shadow:0 0 4px #007bff80}.action-btn{width:100%;height:36px;border:1px solid #ced4da;border-radius:6px;background:linear-gradient(180deg,#fff,#f8f9fa);color:#495057;font-size:.8rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;gap:.25rem;box-shadow:0 1px 2px #0000001a}.action-btn:hover:not(:disabled){background:linear-gradient(180deg,#f8f9fa,#e9ecef);border-color:#adb5bd;transform:translateY(-1px);box-shadow:0 2px 4px #00000026}.action-btn:active:not(:disabled){transform:translateY(0);box-shadow:0 1px 2px #0000001a}.action-btn:disabled{opacity:.5;cursor:not-allowed}.clear-btn:hover:not(:disabled){border-color:#dc3545;color:#dc3545}.paint-canvas{display:flex;flex-direction:column;width:100%;height:100%}.canvas-container{flex:1;display:block;padding:2rem;overflow:auto!important;min-width:0;min-height:0;background:var(--bg-canvas);border:2px inset var(--border-color);margin:1rem;position:relative;box-shadow:var(--shadow-sm);transition:background .3s ease,border-color .3s ease}.canvas-wrapper{display:inline-block;width:auto;height:auto;position:relative}.paint-canvas-element{border:1px solid var(--border-color);box-shadow:var(--shadow-sm);cursor:crosshair;background:#fff;display:block;transition:box-shadow .3s ease,border-color .3s ease}:root.dark .paint-canvas-element{border:2px solid var(--border-color);box-shadow:0 0 0 1px #ffffff1a,var(--shadow-sm)}:root.dark .paint-canvas-element:hover{box-shadow:0 0 0 1px #fff3,var(--shadow-lg)}.paint-canvas-element:hover{box-shadow:var(--shadow-lg)}.text-input-overlay{z-index:1000;pointer-events:auto}.text-input-overlay input{border-radius:4px;background:var(--bg-primary);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);border:2px dashed var(--border-color);color:var(--text-primary)}@media (max-width: 768px){.canvas-container{margin:.5rem;padding:.5rem}}.photo-editor{display:flex;flex-direction:column;width:100%;height:100%;padding:1rem}.no-image-message{text-align:center;padding:1.5rem 1rem;background:var(--bg-tertiary);border:2px solid var(--accent-color);border-radius:14px;color:var(--text-primary);font-size:1.15rem;font-weight:500;margin-bottom:1.5rem;box-shadow:var(--shadow-sm);-webkit-backdrop-filter:blur(12px) saturate(160%);backdrop-filter:blur(12px) saturate(160%);transition:all .3s ease}:root.dark .no-image-message{background:var(--bg-secondary);color:var(--text-secondary);border-color:var(--accent-color);opacity:.8}.editor-controls{width:300px;min-width:300px;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;padding:1rem;border:1px solid rgba(255,255,255,.2);overflow-y:auto;max-height:calc(100vh - 120px)}.control-section{margin-bottom:2rem}.control-section h3{color:#fff;font-size:1.1rem;font-weight:600;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid rgba(255,255,255,.2)}.filter-controls,.transform-controls,.action-controls{display:flex;flex-direction:column;gap:1rem}.filter-controls label,.transform-controls label{color:#222;font-size:.95rem;display:flex;flex-direction:column;gap:.5rem;font-weight:600}:root.dark .filter-controls label,:root.dark .transform-controls label{color:var(--text-primary)}.filter-controls input[type=range],.transform-controls input[type=range]{width:100%;height:6px;background:#e0e7ef;border-radius:3px;outline:none;cursor:pointer;box-shadow:0 1px 2px #00000014}.filter-controls input[type=range]::-webkit-slider-thumb,.transform-controls input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:16px;height:16px;background:#07c;border-radius:50%;cursor:pointer;box-shadow:0 2px 6px #0000002e;border:2px solid #fff}:root.dark .filter-controls input[type=range],:root.dark .transform-controls input[type=range]{background:var(--bg-tertiary);border:1px solid var(--border-color)}:root.dark .filter-controls input[type=range]::-webkit-slider-thumb,:root.dark .transform-controls input[type=range]::-webkit-slider-thumb{background:var(--accent-color);border:2px solid var(--bg-primary);box-shadow:0 2px 6px #0000004d}.photo-controls-panel button,.filter-controls button,.transform-controls button,.crop-controls button,.history-controls button{background:#e0e7ef;color:#222;border:1px solid #b0b8c1;border-radius:6px;padding:.5rem 1rem;margin:.25rem 0;font-size:.95rem;font-weight:700;cursor:pointer;transition:background .2s,color .2s;box-shadow:0 1px 2px #00000014}.photo-controls-panel button:hover:not(:disabled),.filter-controls button:hover:not(:disabled),.transform-controls button:hover:not(:disabled),.crop-controls button:hover:not(:disabled),.history-controls button:hover:not(:disabled){background:#d0e7ff;color:#07c}:root.dark .photo-controls-panel button,:root.dark .filter-controls button,:root.dark .transform-controls button,:root.dark .crop-controls button,:root.dark .history-controls button{background:var(--bg-secondary);color:var(--text-primary);border-color:var(--border-color)}:root.dark .photo-controls-panel button:hover:not(:disabled),:root.dark .filter-controls button:hover:not(:disabled),:root.dark .transform-controls button:hover:not(:disabled),:root.dark .crop-controls button:hover:not(:disabled),:root.dark .history-controls button:hover:not(:disabled){background:var(--bg-tertiary);color:var(--accent-color)}.control-btn{padding:.5rem 1rem;border:1px solid rgba(255,255,255,.3);border-radius:6px;background:#ffffff1a;color:#fff;cursor:pointer;transition:all .2s ease;font-size:.9rem}.control-btn:hover:not(:disabled){background:#fff3;transform:translateY(-1px)}.control-btn:disabled{opacity:.5;cursor:not-allowed}.control-btn.primary{background:#4caf504d;border-color:#4caf5080}.control-btn.primary:hover:not(:disabled){background:#4caf5080}.canvas-container{flex:1;display:flex;align-items:center;justify-content:center;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;border:1px solid rgba(255,255,255,.2);overflow:hidden;position:relative}.photo-canvas{max-width:100%;max-height:100%;border-radius:8px;box-shadow:0 8px 32px #0000004d;cursor:crosshair}.crop-overlay{position:absolute;border:2px solid #4CAF50;background:#4caf501a;pointer-events:none;z-index:10}.crop-overlay:before{content:"";position:absolute;top:-6px;left:-6px;right:-6px;bottom:-6px;border:2px dashed #4CAF50;border-radius:4px}@media (max-width: 768px){.photo-editor{padding:.5rem;gap:.5rem}.photo-editor-content{flex-direction:column}.editor-controls{width:100%;min-width:auto;max-height:200px;order:2;padding:.75rem}.canvas-container{order:1;flex:1;min-height:300px}.control-section{margin-bottom:.75rem}.control-section h3{font-size:1rem;margin-bottom:.5rem}.filter-controls,.transform-controls,.action-controls{gap:.5rem}.control-btn{padding:.4rem .8rem;font-size:.8rem}}.mode-toggle{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:.5rem}.mode-buttons{display:flex;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:12px;padding:.5rem;border:1px solid rgba(255,255,255,.2);gap:.5rem}.mode-btn{display:flex;flex-direction:column;align-items:center;gap:.5rem;padding:1rem 1.5rem;border:none;border-radius:8px;background:transparent;color:#ffffffb3;cursor:pointer;transition:all .3s ease;min-width:100px;font-size:.9rem}.mode-btn:hover:not(.disabled){background:#ffffff1a;color:#fff;transform:translateY(-2px)}.mode-btn.active{background:#fff3;color:#fff;box-shadow:0 4px 16px #0003}.mode-btn.disabled{opacity:.5;cursor:not-allowed}.mode-icon{font-size:2rem;display:block}.mode-label{font-weight:600;text-align:center}.mode-hint{color:#fff9;font-size:.875rem;text-align:center;margin:0}@media (max-width: 768px){.mode-toggle{padding:.25rem}.mode-buttons{padding:.25rem;gap:.25rem}.mode-btn{padding:.5rem 1rem;gap:.25rem;min-width:80px}.mode-icon{font-size:1.2rem}.mode-label{font-size:.8rem}}@media (max-width: 640px){.mode-buttons{flex-direction:row;width:100%}.mode-btn{flex-direction:row;justify-content:center;min-width:auto;width:100%;padding:.4rem .8rem}.mode-icon{font-size:1rem;margin-right:.25rem}.mode-label{font-size:.75rem}}.export-container{position:relative;display:inline-block}.export-btn{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-primary);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:var(--text-primary);font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:var(--shadow-sm)}.export-btn:hover:not(.disabled){background:var(--bg-hover);transform:translateY(-2px);box-shadow:var(--shadow-md)}.export-btn.primary{background:#4caf504d;border-color:#4caf5080}.export-btn.primary:hover:not(.disabled){background:#4caf5080}.export-btn.disabled{opacity:.5;cursor:not-allowed}.spinner-small{width:1rem;height:1rem;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:spin 1s linear infinite}.export-formats{position:absolute;top:100%;right:0;margin-top:.5rem;background:var(--bg-secondary);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);border-radius:12px;padding:1rem;min-width:280px;z-index:1000;box-shadow:var(--shadow-lg)}.formats-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;padding-bottom:.5rem;border-bottom:1px solid var(--border-color)}.formats-header h3{color:var(--text-primary);font-size:1.1rem;margin:0}.close-btn{background:none;border:none;color:var(--text-secondary);cursor:pointer;font-size:1.2rem;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.close-btn:hover{background:var(--bg-hover);color:var(--text-primary)}.format-options{display:flex;flex-direction:column;gap:.5rem}.format-btn{display:flex;align-items:center;gap:1rem;padding:.75rem;border:1px solid var(--border-color);border-radius:8px;background:var(--bg-tertiary);color:var(--text-primary);cursor:pointer;transition:all .2s ease;text-align:left}.format-btn:hover{background:var(--bg-hover);border-color:var(--border-hover);transform:translateY(-1px)}.format-icon{font-size:1.5rem;flex-shrink:0}.format-info{flex:1}.format-info strong{display:block;font-size:1rem;margin-bottom:.25rem}.format-info small{color:var(--text-secondary);font-size:.875rem}@media (max-width: 640px){.export-formats{right:auto;left:0;min-width:250px}.format-btn{padding:.5rem}.format-icon{font-size:1.2rem}}.canvas-settings{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:2rem}.settings-modal{background:#ffffff1a;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);border-radius:16px;width:100%;max-width:600px;max-height:80vh;display:flex;flex-direction:column;overflow:hidden}.settings-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid rgba(255,255,255,.1);flex-shrink:0}.settings-header h2{color:#fff;margin:0;font-size:1.5rem;font-weight:600}.close-btn{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:.5rem;border-radius:50%;transition:all .2s ease}.close-btn:hover{background:#ffffff1a}.settings-content{padding:1.5rem;flex:1;overflow-y:auto}.presets-section{margin-bottom:2rem}.custom-section{margin-bottom:1rem}.presets-section h3,.custom-section h3{color:#fff;margin:0 0 1rem;font-size:1.1rem;font-weight:600}.presets-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:.75rem}.preset-btn{padding:.75rem;border:1px solid rgba(255,255,255,.3);border-radius:8px;background:#ffffff1a;color:#fff;cursor:pointer;transition:all .2s ease;font-size:.9rem;text-align:center}.preset-btn:hover{background:#fff3;transform:translateY(-1px)}.preset-btn.active{background:#3b82f64d;border-color:#3b82f680}.size-inputs{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-bottom:1rem}.input-group{display:flex;flex-direction:column;gap:.5rem}.input-group label{color:#fff;font-size:.9rem;font-weight:500}.input-group input{padding:.75rem;border:1px solid rgba(255,255,255,.3);border-radius:6px;background:#ffffff1a;color:#fff;font-size:1rem}.input-group input:focus{outline:none;border-color:#3b82f680;background:#ffffff26}.size-info{color:#fffc;font-size:.9rem;margin:0}.warning{color:#fbbf24}.settings-actions{display:flex;gap:1rem;justify-content:flex-end;padding:1.5rem;border-top:1px solid rgba(255,255,255,.1);flex-shrink:0;background:#ffffff0d}.cancel-btn,.create-btn{padding:.75rem 1.5rem;border:1px solid rgba(255,255,255,.3);border-radius:8px;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease}.cancel-btn{background:#ffffff1a;color:#fff}.cancel-btn:hover{background:#fff3}.create-btn{background:#22c55e4d;border-color:#22c55e80;color:#fff}.create-btn:hover:not(:disabled){background:#22c55e80;transform:translateY(-1px)}.create-btn:disabled{opacity:.5;cursor:not-allowed}@media (max-width: 640px){.canvas-settings{padding:1rem}.presets-grid,.size-inputs{grid-template-columns:1fr}.settings-actions{flex-direction:column}}.help-modal{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;z-index:1000;padding:2rem}.help-content{background:var(--bg-secondary);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid var(--border-color);border-radius:16px;width:100%;max-width:700px;max-height:80vh;overflow-y:auto}.help-header{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;border-bottom:1px solid var(--border-color)}.help-header h2{color:var(--text-primary);margin:0;font-size:1.5rem;font-weight:600}.close-btn{background:none;border:none;color:var(--text-primary);font-size:1.5rem;cursor:pointer;padding:.5rem;border-radius:50%;transition:all .2s ease}.close-btn:hover{background:var(--bg-hover)}.help-body{padding:1.5rem}.help-section{margin-bottom:2rem}.help-section:last-child{margin-bottom:0}.help-section h3{color:#fff;margin:0 0 1rem;font-size:1.1rem;font-weight:600}.help-section ul{list-style:none;padding:0;margin:0}.help-section li{color:#ffffffe6;padding:.5rem 0 .5rem 1.5rem;position:relative}.help-section li:before{content:"â€¢";color:#3b82f6cc;position:absolute;left:0;font-weight:700}.shortcuts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:.75rem}.shortcut-item{display:flex;align-items:center;gap:1rem;padding:.75rem;background:#ffffff0d;border-radius:8px;border:1px solid rgba(255,255,255,.1)}.shortcut-item kbd{background:#fff3;color:#fff;padding:.25rem .5rem;border-radius:4px;font-family:monospace;font-size:.85rem;font-weight:600;min-width:80px;text-align:center}.shortcut-item span{color:#ffffffe6;font-size:.9rem}.help-footer{padding:1.5rem;border-top:1px solid rgba(255,255,255,.1);text-align:center}.close-btn-primary{padding:.75rem 2rem;border:1px solid rgba(59,130,246,.5);border-radius:8px;background:#3b82f64d;color:#fff;font-size:1rem;font-weight:500;cursor:pointer;transition:all .2s ease}.close-btn-primary:hover{background:#3b82f680;transform:translateY(-1px)}@media (max-width: 640px){.help-modal{padding:1rem}.shortcuts-grid{grid-template-columns:1fr}.shortcut-item{flex-direction:column;text-align:center;gap:.5rem}.shortcut-item kbd{min-width:auto}}.theme-toggle{position:relative;display:inline-block}.theme-select{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:8px;padding:8px 12px;font-size:14px;color:var(--text-primary);cursor:pointer;outline:none;transition:all .2s ease;min-width:120px}.theme-select:hover{background:var(--bg-hover);border-color:var(--border-hover)}.theme-select:focus{border-color:var(--accent-color);box-shadow:0 0 0 2px var(--accent-color-alpha)}.theme-toggle .tooltip{position:absolute;bottom:-35px;left:50%;transform:translate(-50%);background:var(--tooltip-bg);color:var(--tooltip-text);padding:6px 10px;border-radius:6px;font-size:12px;white-space:nowrap;opacity:0;visibility:hidden;transition:all .2s ease;pointer-events:none;z-index:1000;border:1px solid var(--tooltip-border)}.theme-toggle:hover .tooltip{opacity:1;visibility:visible}@media (max-width: 768px){.theme-select{min-width:100px;padding:6px 10px;font-size:13px}}.app{width:100%;height:100vh;display:flex;flex-direction:column;background:var(--bg-primary);color:var(--text-primary);transition:background .3s ease,color .3s ease}.app-header{background:var(--bg-secondary);border-bottom:2px solid var(--border-color);box-shadow:var(--shadow-md);padding:.75rem 1rem;position:relative;z-index:100;min-height:60px;display:flex;align-items:center;flex-shrink:0;transition:background .3s ease,border-color .3s ease}.header-content{display:flex;justify-content:space-between;align-items:center;width:100%}.header-left{display:flex;align-items:center;gap:.75rem}.app-logo{width:36px;height:36px;background:linear-gradient(45deg,#ff6b6b,#4ecdc4,#45b7d1,#96ceb4,#feca57);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.3rem;font-weight:700;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.3);box-shadow:0 2px 4px #0003;flex-shrink:0}.header-title{display:flex;flex-direction:column;gap:0}.header-title h1{color:#2c3e50;margin:0;font-size:1.5rem;font-weight:700;font-family:Comic Sans MS,cursive,sans-serif;text-shadow:1px 1px 2px rgba(0,0,0,.1);background:linear-gradient(45deg,#e74c3c,#3498db,#2ecc71,#f39c12);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;white-space:nowrap;line-height:1.2}.header-title p{color:var(--text-secondary);font-size:.75rem;margin:0;font-weight:500;white-space:nowrap;line-height:1}.header-right{display:flex;align-items:center;gap:.75rem}.icon-btn{width:36px;height:36px;border:1px solid var(--border-color);border-radius:6px;background:var(--bg-primary);color:var(--text-primary);font-size:1.1rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;box-shadow:var(--shadow-sm);position:relative;flex-shrink:0}.icon-btn:hover{background:var(--bg-hover);border-color:var(--border-hover);transform:translateY(-1px);box-shadow:var(--shadow-md)}.icon-btn:active{transform:translateY(0);box-shadow:var(--shadow-sm)}.tooltip{position:absolute;bottom:-35px;left:50%;transform:translate(-50%);background:var(--tooltip-bg);color:var(--tooltip-text);padding:.25rem .5rem;border-radius:4px;font-size:.75rem;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:1000;border:1px solid var(--tooltip-border)}.tooltip:before{content:"";position:absolute;top:-4px;left:50%;transform:translate(-50%);border-left:4px solid transparent;border-right:4px solid transparent;border-bottom:4px solid var(--tooltip-bg)}.icon-btn:hover .tooltip{opacity:1}.app-main{flex:1;display:flex;flex-direction:row;overflow:hidden;height:calc(100vh - 60px)}.welcome-screen{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;background:var(--bg-primary);border-radius:18px;box-shadow:var(--shadow-lg);border:1.5px solid var(--border-color);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}.upload-header{width:100%;max-width:600px;margin-bottom:2rem}.back-btn{display:flex;align-items:center;gap:.5rem;padding:.5rem 1.2rem;border:2px solid var(--accent-color);border-radius:8px;background:var(--bg-primary);color:var(--accent-color);font-size:1rem;cursor:pointer;font-weight:700;box-shadow:var(--shadow-sm);transition:all .2s ease;outline:2px solid var(--accent-color);outline-offset:-2px;margin-bottom:1rem;z-index:2}.back-btn:hover{background:var(--bg-hover);color:var(--accent-color)}.editor-screen{flex:1;display:flex;flex-direction:row;overflow:hidden;height:100%}.editor-sidebar{width:280px;min-width:280px;background:var(--bg-secondary);border-right:2px solid var(--border-color);box-shadow:var(--shadow-md);display:flex;flex-direction:column;overflow-y:auto;transition:background .3s ease,border-color .3s ease}.sidebar-section{padding:1rem;border-bottom:1px solid var(--border-color)}.sidebar-section:last-child{border-bottom:none}.sidebar-section h3{color:var(--text-primary);font-size:.85rem;font-weight:600;margin:0 0 .75rem;text-transform:uppercase;letter-spacing:.5px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.mode-toggle-compact{display:flex;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;padding:.25rem;margin-bottom:1rem;box-shadow:var(--shadow-sm)}.mode-btn-compact{flex:1;padding:.5rem;border:none;border-radius:4px;background:transparent;color:var(--text-secondary);font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s ease}.mode-btn-compact.active{background:var(--accent-color);color:#fff;box-shadow:var(--shadow-sm)}.mode-btn-compact:hover:not(.active){background:var(--bg-hover);color:var(--text-primary)}.action-buttons{display:flex;flex-direction:column;gap:.5rem}.action-btn{display:flex;align-items:center;gap:.5rem;padding:.6rem;border:1px solid var(--border-color);border-radius:6px;background:var(--bg-primary);color:var(--text-primary);font-size:.8rem;font-weight:500;cursor:pointer;transition:all .2s ease;justify-content:flex-start;box-shadow:var(--shadow-sm)}.action-btn:hover{background:var(--bg-hover);border-color:var(--border-hover);transform:translateY(-1px);box-shadow:var(--shadow-md)}.action-btn:active{transform:translateY(0);box-shadow:var(--shadow-sm)}.load-image-btn:hover{border-color:var(--accent-color);color:var(--accent-color)}.new-canvas-btn:hover{border-color:#28a745;color:#28a745}.zoom-controls{display:flex;flex-direction:column;gap:.75rem}.zoom-info{text-align:center;color:var(--text-primary);font-size:.9rem;font-weight:500;padding:.5rem;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:6px;box-shadow:var(--shadow-sm)}.zoom-buttons{display:flex;flex-direction:column;gap:.5rem}.zoom-btn:hover{border-color:#6f42c1;color:#6f42c1}.editor-container{flex:1;overflow:auto;display:flex;flex-direction:column}.new-image-btn{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.5rem;border:1px solid rgba(255,255,255,.3);border-radius:8px;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);color:#fff;font-size:1rem;font-weight:600;cursor:pointer;transition:all .3s ease}.new-image-btn:hover{background:#fff3;transform:translateY(-2px);box-shadow:0 4px 16px #0003}.error-banner{background:var(--error-bg);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid var(--error-border);color:var(--error-text);padding:1rem;display:flex;justify-content:space-between;align-items:center;margin:0 1rem 1rem;border-radius:8px;animation:slideDown .3s ease}.error-close{background:none;border:none;color:var(--error-text);cursor:pointer;font-size:1.2rem;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.error-close:hover{background:#fff3}@keyframes slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.loading-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background:#000c;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);display:flex;align-items:center;justify-content:center;z-index:2000}.loading-spinner{display:flex;flex-direction:column;align-items:center;gap:1rem;color:#fff}.loading-spinner .spinner{width:3rem;height:3rem;border:3px solid rgba(255,255,255,.3);border-top:3px solid white;border-radius:50%;animation:spin 1s linear infinite}.loading-spinner p{font-size:1.1rem;margin:0}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.app-header{padding:.5rem .75rem;min-height:50px}.app-logo{width:30px;height:30px;font-size:1.1rem}.header-title h1{font-size:1.3rem}.header-title p{font-size:.7rem}.icon-btn{width:30px;height:30px;font-size:1rem}.app-main{height:calc(100vh - 50px)}.editor-screen{flex-direction:column}.editor-sidebar{width:100%;min-width:auto;max-height:180px;order:2;border-right:none;border-top:1px solid rgba(255,255,255,.1);overflow-x:auto}.editor-container{order:1;flex:1;min-height:300px}.sidebar-section{padding:.5rem;display:inline-block;vertical-align:top;min-width:200px}.sidebar-section h3{font-size:.8rem;margin-bottom:.5rem}.action-btn,.zoom-btn{padding:.4rem .6rem;font-size:.75rem}.mode-btn-compact{padding:.3rem;font-size:.7rem}.zoom-buttons{flex-direction:row;gap:.25rem}.zoom-info{font-size:.8rem;padding:.3rem}.header-content{flex-direction:column;gap:1rem;align-items:center}.header-left{text-align:center}.header-left h1{font-size:1.5rem}.welcome-screen{padding:1rem}.editor-actions{padding:.75rem}.error-banner{margin:0 .5rem .5rem;padding:.75rem}}:root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;--bg-primary: #ffffff;--bg-secondary: #f8f9fa;--bg-tertiary: #e9ecef;--bg-hover: #e2e6ea;--bg-canvas: #ffffff;--text-primary: #212529;--text-secondary: #6c757d;--text-muted: #adb5bd;--border-color: #dee2e6;--border-hover: #adb5bd;--border-focus: #0d6efd;--accent-color: #0d6efd;--accent-color-alpha: rgba(13, 110, 253, .25);--error-bg: #f8d7da;--error-text: #721c24;--error-border: #f5c6cb;--success-bg: #d1edff;--success-text: #0c5460;--success-border: #bee5eb;--tooltip-bg: #000000;--tooltip-text: #ffffff;--tooltip-border: #333333;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px rgba(0, 0, 0, .1);--shadow-lg: 0 10px 15px rgba(0, 0, 0, .1);--gradient-bg: linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 50%, #d0d0d0 100%)}:root.dark{--bg-primary: #1a1a1a;--bg-secondary: #2d2d30;--bg-tertiary: #3e3e42;--bg-hover: #484848;--bg-canvas: #2a2a2a;--text-primary: #e4e4e7;--text-secondary: #a1a1aa;--text-muted: #71717a;--border-color: #404040;--border-hover: #525252;--border-focus: #3b82f6;--accent-color: #3b82f6;--accent-color-alpha: rgba(59, 130, 246, .25);--error-bg: #991b1b;--error-text: #fecaca;--error-border: #dc2626;--success-bg: #065f46;--success-text: #a7f3d0;--success-border: #059669;--tooltip-bg: #374151;--tooltip-text: #f9fafb;--tooltip-border: #4b5563;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .3);--shadow-md: 0 4px 6px rgba(0, 0, 0, .4);--shadow-lg: 0 10px 15px rgba(0, 0, 0, .5);--gradient-bg: linear-gradient(135deg, #1f1f1f 0%, #2a2a2a 50%, #1a1a1a 100%)}*{margin:0;padding:0;box-sizing:border-box}body{margin:0;display:flex;place-items:center;min-width:320px;min-height:100vh;background:var(--gradient-bg);color:var(--text-primary);transition:background .3s ease,color .3s ease}#app{width:100%;height:100vh;display:flex;flex-direction:column}::-webkit-scrollbar{width:12px;height:12px}::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:6px;border:1px solid var(--border-color)}::-webkit-scrollbar-thumb{background:var(--bg-tertiary);border-radius:6px;border:1px solid var(--border-color);box-shadow:var(--shadow-sm)}::-webkit-scrollbar-thumb:hover{background:var(--bg-hover);border-color:var(--border-hover)}::-webkit-scrollbar-thumb:active{background:var(--border-hover)}::-webkit-scrollbar-corner{background:var(--bg-secondary);border:1px solid var(--border-color)}*{scrollbar-width:thin;scrollbar-color:var(--bg-tertiary) var(--bg-secondary)}.canvas-container::-webkit-scrollbar{width:10px;height:10px}.canvas-container::-webkit-scrollbar-track{background:var(--bg-canvas);border-radius:5px;border:1px solid var(--border-color)}.canvas-container::-webkit-scrollbar-thumb{background:var(--bg-tertiary);border-radius:5px;border:1px solid var(--border-color)}.canvas-container::-webkit-scrollbar-thumb:hover{background:var(--bg-hover)}.editor-sidebar::-webkit-scrollbar{width:8px}.editor-sidebar::-webkit-scrollbar-track{background:var(--bg-secondary);border-radius:4px}.editor-sidebar::-webkit-scrollbar-thumb{background:var(--bg-tertiary);border-radius:4px;border:1px solid var(--border-color)}.editor-sidebar::-webkit-scrollbar-thumb:hover{background:var(--bg-hover)}
